{"ast":null,"code":"import _classCallCheck from \"/Users/dianayoo/Documents/FlatironSchool/JS/Mod-5-Final-Project/frontend_sleepTracker/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dianayoo/Documents/FlatironSchool/JS/Mod-5-Final-Project/frontend_sleepTracker/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dianayoo/Documents/FlatironSchool/JS/Mod-5-Final-Project/frontend_sleepTracker/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dianayoo/Documents/FlatironSchool/JS/Mod-5-Final-Project/frontend_sleepTracker/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dianayoo/Documents/FlatironSchool/JS/Mod-5-Final-Project/frontend_sleepTracker/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dianayoo/Documents/FlatironSchool/JS/Mod-5-Final-Project/frontend_sleepTracker/src/components/PieChart.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { PieChart, Pie, Sector } from 'recharts';\nimport { fetchUserData } from '../actionCreators/userActions';\n\nvar renderActiveShape = function renderActiveShape(props) {\n  var RADIAN = Math.PI / 180;\n  var cx = props.cx,\n      cy = props.cy,\n      midAngle = props.midAngle,\n      innerRadius = props.innerRadius,\n      outerRadius = props.outerRadius,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      fill = props.fill,\n      payload = props.payload,\n      percent = props.percent,\n      value = props.value;\n  var sin = Math.sin(-RADIAN * midAngle);\n  var cos = Math.cos(-RADIAN * midAngle);\n  var sx = cx + (outerRadius + 10) * cos;\n  var sy = cy + (outerRadius + 10) * sin;\n  var mx = cx + (outerRadius + 30) * cos;\n  var my = cy + (outerRadius + 30) * sin;\n  var ex = mx + (cos >= 0 ? 1 : -1) * 22;\n  var ey = my;\n  var textAnchor = cos >= 0 ? 'start' : 'end';\n  return React.createElement(\"g\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    x: cx,\n    y: cy,\n    dy: 8,\n    textAnchor: \"middle\",\n    fill: fill,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, payload.name), React.createElement(Sector, {\n    cx: cx,\n    cy: cy,\n    innerRadius: innerRadius,\n    outerRadius: outerRadius,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    fill: fill,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), React.createElement(Sector, {\n    cx: cx,\n    cy: cy,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    innerRadius: outerRadius + 6,\n    outerRadius: outerRadius + 10,\n    fill: fill,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    d: \"M\".concat(sx, \",\").concat(sy, \"L\").concat(mx, \",\").concat(my, \"L\").concat(ex, \",\").concat(ey),\n    stroke: fill,\n    fill: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"circle\", {\n    cx: ex,\n    cy: ey,\n    r: 2,\n    fill: fill,\n    stroke: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"text\", {\n    x: ex + (cos >= 0 ? 1 : -1) * 12,\n    y: ey,\n    textAnchor: textAnchor,\n    fill: \"#333\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"\".concat(value, \" min\")), React.createElement(\"text\", {\n    x: ex + (cos >= 0 ? 1 : -1) * 12,\n    y: ey,\n    dy: 18,\n    textAnchor: textAnchor,\n    fill: \"#999\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"(\".concat((percent * 100).toFixed(2), \"%)\")));\n};\n\nvar TwoLevelPieChart =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TwoLevelPieChart, _React$Component);\n\n  function TwoLevelPieChart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TwoLevelPieChart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TwoLevelPieChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      activeIndex: 0\n    };\n\n    _this.onPieEnter = function (data, index) {\n      _this.setState({\n        activeIndex: index\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TwoLevelPieChart, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.props.sleep.summary);\n      var data = [{\n        name: 'Deep',\n        value: this.props.sleep.summary ? this.props.sleep.summary.stages.deep : null\n      }, {\n        name: 'Light',\n        value: this.props.sleep.summary ? this.props.sleep.summary.stages.light : null\n      }, {\n        name: 'Rem',\n        value: this.props.sleep.summary ? this.props.sleep.summary.stages.rem : null\n      }, {\n        name: 'Wake',\n        value: this.props.sleep.summary ? this.props.sleep.summary.stages.wake : null\n      }];\n      return React.createElement(PieChart, {\n        width: 800,\n        height: 400,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Pie, {\n        activeIndex: this.state.activeIndex,\n        activeShape: renderActiveShape,\n        data: data,\n        cx: 300,\n        cy: 200,\n        innerRadius: 60,\n        outerRadius: 80,\n        fill: \"#8884d8\",\n        onMouseEnter: this.onPieEnter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TwoLevelPieChart;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    token: state.token,\n    sleep: state.sleep\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    sleepInfo: function sleepInfo(url, access_token) {\n      return dispatch(fetchUserData(url, access_token));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TwoLevelPieChart);","map":{"version":3,"sources":["/Users/dianayoo/Documents/FlatironSchool/JS/Mod-5-Final-Project/frontend_sleepTracker/src/components/PieChart.js"],"names":["React","connect","PieChart","Pie","Sector","fetchUserData","renderActiveShape","props","RADIAN","Math","PI","cx","cy","midAngle","innerRadius","outerRadius","startAngle","endAngle","fill","payload","percent","value","sin","cos","sx","sy","mx","my","ex","ey","textAnchor","name","toFixed","TwoLevelPieChart","state","activeIndex","onPieEnter","data","index","setState","console","log","sleep","summary","stages","deep","light","rem","wake","Component","mapStateToProps","token","mapDispatchToProps","dispatch","sleepInfo","url","access_token"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { PieChart, Pie, Sector } from 'recharts'\nimport { fetchUserData } from '../actionCreators/userActions'\n\nconst renderActiveShape = (props) => {\n  const RADIAN = Math.PI / 180\n  const { cx, cy, midAngle, innerRadius, outerRadius, startAngle, endAngle,\n    fill, payload, percent, value } = props\n  const sin = Math.sin(-RADIAN * midAngle)\n  const cos = Math.cos(-RADIAN * midAngle)\n  const sx = cx + (outerRadius + 10) * cos\n  const sy = cy + (outerRadius + 10) * sin\n  const mx = cx + (outerRadius + 30) * cos\n  const my = cy + (outerRadius + 30) * sin\n  const ex = mx + (cos >= 0 ? 1 : -1) * 22\n  const ey = my\n  const textAnchor = cos >= 0 ? 'start' : 'end'\n\n  return (\n    <g>\n      <text x={cx} y={cy} dy={8} textAnchor=\"middle\" fill={fill}>{payload.name}</text>\n      <Sector\n        cx={cx}\n        cy={cy}\n        innerRadius={innerRadius}\n        outerRadius={outerRadius}\n        startAngle={startAngle}\n        endAngle={endAngle}\n        fill={fill}\n      />\n      <Sector\n        cx={cx}\n        cy={cy}\n        startAngle={startAngle}\n        endAngle={endAngle}\n        innerRadius={outerRadius + 6}\n        outerRadius={outerRadius + 10}\n        fill={fill}\n      />\n      <path d={`M${sx},${sy}L${mx},${my}L${ex},${ey}`} stroke={fill} fill=\"none\"/>\n      <circle cx={ex} cy={ey} r={2} fill={fill} stroke=\"none\"/>\n      <text x={ex + (cos >= 0 ? 1 : -1) * 12} y={ey} textAnchor={textAnchor} fill=\"#333\">{`${value} min`}</text>\n      <text x={ex + (cos >= 0 ? 1 : -1) * 12} y={ey} dy={18} textAnchor={textAnchor} fill=\"#999\">\n        {`(${(percent * 100).toFixed(2)}%)`}\n      </text>\n    </g>\n  )\n}\n\nclass TwoLevelPieChart extends React.Component {\n\n  // componentDidMount() {\n  //   const userToken = localStorage.getItem('token')\n  //\n  //   if (userToken) {\n  //     this.props.sleepInfo('https://api.fitbit.com/1/user/-/profile.json', userToken)\n  //   }\n  // }\n\n\tstate = {\n    activeIndex: 0\n  }\n\n  onPieEnter = (data, index) => {\n    this.setState({\n      activeIndex: index\n    })\n  }\n\n\trender() {\n\n    console.log(this.props.sleep.summary)\n\n    const data = [\n      {name: 'Deep', value: this.props.sleep.summary ? this.props.sleep.summary.stages.deep : null},\n      {name: 'Light', value: this.props.sleep.summary ? this.props.sleep.summary.stages.light : null},\n      {name: 'Rem', value: this.props.sleep.summary ? this.props.sleep.summary.stages.rem : null},\n      {name: 'Wake', value: this.props.sleep.summary ? this.props.sleep.summary.stages.wake : null}\n    ]\n\n  \treturn (\n    \t<PieChart width={800} height={400}>\n        <Pie\n        \tactiveIndex={this.state.activeIndex}\n          activeShape={renderActiveShape}\n          data={data}\n          cx={300}\n          cy={200}\n          innerRadius={60}\n          outerRadius={80}\n          fill=\"#8884d8\"\n          onMouseEnter={this.onPieEnter}\n        />\n       </PieChart>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token,\n    sleep: state.sleep\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    sleepInfo: (url, access_token) => dispatch(fetchUserData(url, access_token))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TwoLevelPieChart)\n"]},"metadata":{},"sourceType":"module"}